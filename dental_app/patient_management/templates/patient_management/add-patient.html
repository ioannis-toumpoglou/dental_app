{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block title %}
    Add Patient
{% endblock %}

{% block css_files %}
    <link rel="stylesheet" href="{% static 'patient_management/styles.css' %}">
{% endblock %}

{% block content %}

    {% if user.is_authenticated %}
    {% csrf_token %}

    <form class="add-patient-form" action="/add-patient/" method="POST">
        {% csrf_token %}
        <div id="add-patient-header">
            <h3>Add patient</h3>
        </div>
            <div class="grid-container">
                <div class="grid-item"><p><label for="id_last_name"><span style="color:red; margin-right:6px; margin-left:-13px;">*</span>Last Name:</label></p></div>
                <div class="grid-item"><p>{{ form.last_name }}</p></div>
                <div class="grid-item"><p><label for="id_first_name"><span style="color:red; margin-right:6px; margin-left:-13px;">*</span>First Name:</label></p></div>
                <div class="grid-item"><p>{{ form.first_name }}</p></div>
                <div class="grid-item"><p><label for="id_address">Address:</label></p></div>
                <div class="grid-item"><p>{{ form.address }}</p></div>
                <div class="grid-item"><p><label for="id_email">Email:</label></p></div>
                <div class="grid-item"><p>{{ form.email }}</p></div>
                <div class="grid-item"><p><label for="id_phone">Phone:</label></p></div>
                <div class="grid-item"><p>{{ form.phone }}</p></div>
                <div class="grid-item"><p><label for="id_last_name"><span style="color:red; margin-right:6px; margin-left:-13px;">*</span>Mobile phone:</label></p></div>
                <div class="grid-item"><p>{{ form.mobile_phone }}</p></div>
                <div class="grid-item"><p><label for="id_amka">AMKA:</label></p></div>
                <div class="grid-item"><p>{{ form.amka }}</p></div>
                <div class="grid-item"><p><label for="id_date_of_birth">Date of Birth:</label></p></div>
                <div class="grid-item" id="date-of-birth"><p>{% render_field form.date_of_birth type="date" placeholder="dd/mm/yyyy" %}</p></div>
                <div class="grid-item"><p><label>Occupation:</label></p></div>
                <div class="grid-item"><p>{{ form.occupation }}</p></div>
                <div class="grid-item"><p><label>Previous visit:</label></p></div>
                <div class="grid-item"><p>{{ form.previous_dentist_visit }}</p></div>
                <div class="grid-item"><p><label>Found in:</label></p></div>
                <div class="grid-item"><p>{{ form.found_in }}</p></div>
                <div class="grid-item"><p></p></div>
                <div class="grid-item"><p></p></div>
                <div class="grid-item"><p><label for="id_notes">Notes:</label></p></div>
                <div class="grid-item"><p>{{ form.notes }}</p><div style="color:red; font-weight:bold; font-size:12px; margin-top:-1rem; margin-bottom:-1rem;">* Mandatory fields</div></div>
            </div>

        <br>
        <div class="add-form-button">
            <button type="submit" name="save" class="save-button">Save</button>
            <input type="reset" name="clear" class="reset-button" value="Reset">
        </div>
    </form>

    {% else %}

    <div class="login-promt">
        <body id="login-prompt-body">
            <form action="/login/">
                {% csrf_token %}
                <p class="login-prompt-message">You are not logged in</p>
                <button type="submit" name="login" class="btn btn-outline-primary" onclick="location.href='{% url 'login' %}'">Login</button>
            </form>
        </body>
    </div>

    {% endif %}

{% endblock %}